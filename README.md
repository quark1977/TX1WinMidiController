# TX1 Win Midi Controller: An open-source controller and windows interface for the IK Multimedia Tonex One guitar pedal
This Python project provides enables two-way USB communication with the IK Multimedia Tonex One guitar pedal (which does not have native Midi capability) and captures midi PC messages  to switch the presets on the pedal.

**Note: this project is not endorsed by IK Multimedia. Amplifier skin images copyright is owned by IK Multimedia.**
**TONEX is a registered trademark of IK Multimedia Production Srl**
**This script includes code suggestions generated by ChatGPT, OpenAI (https://openai.com/chatgpt).**

## Demonstration Video
https://youtu.be/j0I5G5-CXfg

## ‚≠ê¬†Features
- USB-communication with TonexOne to switch presets on slot C (stomp mode)
- Population of preset names from the Tonex pedal at program startup. 
- Simple Windows GUI that allows switching between the 20 presets on the (touch)screen (buttons)
- Capturing of midi PC messages to switch presets (PC 1 = Preset 1, PC 2 = Preset 2, etc.)
- Screen displays the name, number, button, and amp skin of the current preset.
- Retrieval of skin-name from library.db upon preset selection.
- Customization of paths, interface, and midi via config.json. 
- User can customize amp skins pictures in "skin_path"

## USB-communication (Slot C only)
- Message construction based on https://github.com/vit3k/tonex_controller/blob/main/protocol.md
- CRC: Little Endian CRC 16-bit (reversed polynominal)
- HDLC: byte stuffing for 0x7E or 0x7D
- Framing: 0x7E 

## Amp Skin Pictures
- Skin picture are stored in assets/ folder, e.g. preset MRSH JTM -> skinname JTM -> pic JTM.png
- Picture in PNG, ideally 1000px wide. 
- Currently there is just a small selection of skin pictures, feel free to add your own as needed. 
- If the respective skin picture is missing, default.png will be displayed instead.

## Library.db
- Library path config.json, i.e. db_path = C:/Users/USERNAME/Documents/IK Multimedia/TONEX/Library.db 
- Important: adjust db_path with your USERNAME to ensure skin picture are found.
- The lookup for skin is based on the preset name... preset name -> preset ID -> tone model ID -> skin name. 

## Midi
- Listens to and captures midi PC messages (1-20)
- Defaul channel is "all", but can be set to specific channel (e.g. 1) in the config.
- Any midi device which is properly hooked up to the PC is supported - USB, via interface, bluetooth. (I use FCB1010 and M-Vave Chocolate)

## Usage
- Connect your TonexOne with a USB-C cable to your Windows PC
- Connect your midi controller to your Windows PC
- Adjust the config.json (i.e. the paths to library.db)
- Shut your Tonex App
- Run TX1 Win Midi Controller
- Enjoy!


## üôè¬†Acknowledgement
- https://github.com/vit3k/tonex_controller for great work on reverse engineering the Tonex One USB protocol
- https://github.com/Builty/TonexOneController (Greg Smith) for his patient help in helping me debug my approach.

## Release Notes
V1.0:
- Initial version
- for firmware v1.2.6
- only stomp mode

  
## ¬©Ô∏è¬†License

The Tonex One Controller is licensed under the MIT License. This means you are free to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the software, provided proper attribution is included. See the LICENSE file for more details.

## Donate
Donations help fund the purchase of new equipment to use in further product development.<br>
[Donate via Paypal](https://www.paypal.com/ncp/payment/V46QQ8EMUJDVW)
<br><br>
![QR code](https://github.com/user-attachments/assets/)
